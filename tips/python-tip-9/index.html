<!doctype html><html lang=en><head><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1.0,maximum-scale=1" name=viewport><title>Python tip 9: applying set-like operations for dictionaries</title><link href=https://learnbyexample.github.io/atom.xml rel=alternate title=RSS type=application/atom+xml><script src=https://cdnjs.cloudflare.com/ajax/libs/slideout/1.0.1/slideout.min.js></script><link href=https://learnbyexample.github.io/site.css rel=stylesheet><meta content="Python tip 9: applying set-like operations for dictionaries" property=og:title><meta content=website property=og:type><meta content="Merging two dict objects and using set operators on the output of dict.keys and dict.values methods." property=og:description><meta content=https://learnbyexample.github.io/python-tip-9/ property=og:url><meta content=@learn_byexample property=twitter:site><link href=https://learnbyexample.github.io/favicon.svg rel=icon><link rel="shortcut icon" href=https://learnbyexample.github.io/favicon.png><body><div class=container><div class=mobile-navbar id=mobile-navbar><div class=mobile-header-logo><a class=logo href=/>learnbyexample</a></div><div class="mobile-navbar-icon icon-out"><span></span><span></span><span></span></div></div><nav class="mobile-menu slideout-menu slideout-menu-left" id=mobile-menu><ul class=mobile-menu-list><li class=mobile-menu-item><a href=https://learnbyexample.github.io/books> Books </a><li class=mobile-menu-item><a href=https://learnbyexample.github.io/mini> Mini </a><li class=mobile-menu-item><a href=https://learnbyexample.github.io/tips> Tips </a><li class=mobile-menu-item><a href=https://learnbyexample.github.io/tags> Tags </a><li class=mobile-menu-item><a href=https://learnbyexample.github.io/about> About </a></ul></nav><header id=header><div class=logo><a href=https://learnbyexample.github.io>learnbyexample</a></div><nav class=menu><ul><li><a href=https://learnbyexample.github.io/books> Books </a><li><a href=https://learnbyexample.github.io/mini> Mini </a><li><a href=https://learnbyexample.github.io/tips> Tips </a><li><a href=https://learnbyexample.github.io/tags> Tags </a><li><a href=https://learnbyexample.github.io/about> About </a></ul></nav></header><main><div class=content id=mobile-panel><article class=post><header class=post__header><h1 class=post__title><a href=https://learnbyexample.github.io/tips/python-tip-9/>Python tip 9: applying set-like operations for dictionaries</a></h1><div class=post__meta><span class=post__time>2022-04-16</span></div></header><div class=post-content><p>You can merge two dictionaries using the <code>|</code> operator (similar to union of sets). If a key is found in both the dictionaries, the insertion order of the first dictionary will be maintained, but the value of the second dictionary will be used. In other words, keys are updated to the new value during the merge.<pre class=language-python data-lang=python style=background-color:#f5f5f5;color:#1f1f1f;><code class=language-python data-lang=python><span style=color:#72ab00;>>>> </span><span>marks_1 </span><span style=color:#72ab00;>= </span><span>{</span><span style=color:#d07711;>'Rahul'</span><span>: </span><span style=color:#b3933a;>86</span><span>, </span><span style=color:#d07711;>'Ravi'</span><span>: </span><span style=color:#b3933a;>92</span><span>, </span><span style=color:#d07711;>'Rohit'</span><span>: </span><span style=color:#b3933a;>75</span><span>}
</span><span style=color:#72ab00;>>>> </span><span>marks_2 </span><span style=color:#72ab00;>= </span><span>{</span><span style=color:#d07711;>'Jo'</span><span>: </span><span style=color:#b3933a;>89</span><span>, </span><span style=color:#d07711;>'Rohit'</span><span>: </span><span style=color:#b3933a;>78</span><span>, </span><span style=color:#d07711;>'Joe'</span><span>: </span><span style=color:#b3933a;>75</span><span>, </span><span style=color:#d07711;>'Ravi'</span><span>: </span><span style=color:#b3933a;>100</span><span>}
</span><span>
</span><span style=color:#7f8989;># use unpacking, i.e. {**d1, **d2} for Python 3.8 and below versions
</span><span style=color:#72ab00;>>>> </span><span>marks_1 </span><span style=color:#72ab00;>| </span><span>marks_2
</span><span>{</span><span style=color:#d07711;>'Rahul'</span><span>: </span><span style=color:#b3933a;>86</span><span>, </span><span style=color:#d07711;>'Ravi'</span><span>: </span><span style=color:#b3933a;>100</span><span>, </span><span style=color:#d07711;>'Rohit'</span><span>: </span><span style=color:#b3933a;>78</span><span>, </span><span style=color:#d07711;>'Jo'</span><span>: </span><span style=color:#b3933a;>89</span><span>, </span><span style=color:#d07711;>'Joe'</span><span>: </span><span style=color:#b3933a;>75</span><span>}
</span></code></pre><p>Use <code>update()</code> method if you want to modify instead of getting a new dictionary.<pre class=language-python data-lang=python style=background-color:#f5f5f5;color:#1f1f1f;><code class=language-python data-lang=python><span style=color:#72ab00;>>>> </span><span>marks_1.</span><span style=color:#5597d6;>update</span><span>(marks_2)
</span><span style=color:#72ab00;>>>> </span><span>marks_1
</span><span>{</span><span style=color:#d07711;>'Rahul'</span><span>: </span><span style=color:#b3933a;>86</span><span>, </span><span style=color:#d07711;>'Ravi'</span><span>: </span><span style=color:#b3933a;>100</span><span>, </span><span style=color:#d07711;>'Rohit'</span><span>: </span><span style=color:#b3933a;>78</span><span>, </span><span style=color:#d07711;>'Jo'</span><span>: </span><span style=color:#b3933a;>89</span><span>, </span><span style=color:#d07711;>'Joe'</span><span>: </span><span style=color:#b3933a;>75</span><span>}
</span></code></pre><p>The <code>keys()</code> and <code>values()</code> dictionary methods return set-like objects, but with insertion order maintained. You get a set object as output when you apply set operators on these objects.<pre class=language-python data-lang=python style=background-color:#f5f5f5;color:#1f1f1f;><code class=language-python data-lang=python><span style=color:#72ab00;>>>> </span><span>marks_1 </span><span style=color:#72ab00;>= </span><span>{</span><span style=color:#d07711;>'Rahul'</span><span>: </span><span style=color:#b3933a;>86</span><span>, </span><span style=color:#d07711;>'Ravi'</span><span>: </span><span style=color:#b3933a;>92</span><span>, </span><span style=color:#d07711;>'Rohit'</span><span>: </span><span style=color:#b3933a;>75</span><span>}
</span><span style=color:#72ab00;>>>> </span><span>marks_2 </span><span style=color:#72ab00;>= </span><span>{</span><span style=color:#d07711;>'Jo'</span><span>: </span><span style=color:#b3933a;>89</span><span>, </span><span style=color:#d07711;>'Rohit'</span><span>: </span><span style=color:#b3933a;>78</span><span>, </span><span style=color:#d07711;>'Joe'</span><span>: </span><span style=color:#b3933a;>75</span><span>, </span><span style=color:#d07711;>'Ravi'</span><span>: </span><span style=color:#b3933a;>100</span><span>}
</span><span>
</span><span style=color:#7f8989;># union of keys
</span><span style=color:#72ab00;>>>> </span><span>marks_1.</span><span style=color:#5597d6;>keys</span><span>() </span><span style=color:#72ab00;>| </span><span>marks_2.</span><span style=color:#5597d6;>keys</span><span>()
</span><span>{</span><span style=color:#d07711;>'Rohit'</span><span>, </span><span style=color:#d07711;>'Rahul'</span><span>, </span><span style=color:#d07711;>'Ravi'</span><span>, </span><span style=color:#d07711;>'Jo'</span><span>, </span><span style=color:#d07711;>'Joe'</span><span>}
</span><span>
</span><span style=color:#7f8989;># common keys
</span><span style=color:#72ab00;>>>> </span><span>marks_1.</span><span style=color:#5597d6;>keys</span><span>() </span><span style=color:#72ab00;>& </span><span>marks_2.</span><span style=color:#5597d6;>keys</span><span>()
</span><span>{</span><span style=color:#d07711;>'Ravi'</span><span>, </span><span style=color:#d07711;>'Rohit'</span><span>}
</span><span>
</span><span style=color:#7f8989;># difference: keys not present in the other dict
</span><span style=color:#72ab00;>>>> </span><span>marks_1.</span><span style=color:#5597d6;>keys</span><span>() </span><span style=color:#72ab00;>- </span><span>marks_2.</span><span style=color:#5597d6;>keys</span><span>()
</span><span>{</span><span style=color:#d07711;>'Rahul'</span><span>}
</span><span style=color:#72ab00;>>>> </span><span>marks_2.</span><span style=color:#5597d6;>keys</span><span>() </span><span style=color:#72ab00;>- </span><span>marks_1.</span><span style=color:#5597d6;>keys</span><span>()
</span><span>{</span><span style=color:#d07711;>'Jo'</span><span>, </span><span style=color:#d07711;>'Joe'</span><span>}
</span><span>
</span><span style=color:#7f8989;># symmetric difference: union of above two differences
</span><span style=color:#72ab00;>>>> </span><span>marks_1.</span><span style=color:#5597d6;>keys</span><span>() </span><span style=color:#72ab00;>^ </span><span>marks_2.</span><span style=color:#5597d6;>keys</span><span>()
</span><span>{</span><span style=color:#d07711;>'Jo'</span><span>, </span><span style=color:#d07711;>'Joe'</span><span>, </span><span style=color:#d07711;>'Rahul'</span><span>}
</span></code></pre><p><strong>Video demo</strong>:<p align=center><iframe allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" title="YouTube video player" allowfullscreen frameborder=0 height=315 loading=lazy src=https://www.youtube.com/embed/ILI7RQnKaZE width=560></iframe></p><br><p><img alt=info src=/images/info.svg> See also my <a href=https://github.com/learnbyexample/100_page_python_intro>100 Page Python Intro</a> ebook.</div><div class=post-footer><div class=post-tags><a href=https://learnbyexample.github.io/tags/python/>#python</a><a href=https://learnbyexample.github.io/tags/tip/>#tip</a></div><hr color=#e6e6e6><div class=post-nav><p><a class=previous href=https://learnbyexample.github.io/tips/python-tip-10/>← Python tip 10: removeprefix and removesuffix string methods</a><br><p><a class=next href=https://learnbyexample.github.io/tips/python-tip-8/>Python tip 8: dict.fromkeys() method →</a><br></div><hr color=#e6e6e6><p>📰 Use <a href=https://learnbyexample.github.io/atom.xml>this link</a> for the Atom feed. <br> ✅ Follow me on <a href=https://twitter.com/learn_byexample>Twitter</a>, <a href=https://github.com/learnbyexample>GitHub</a> and <a href=https://www.youtube.com/c/learnbyexample42>Youtube</a> for interesting tech nuggets. <br> 📧 Subscribe to <a href=https://learnbyexample.gumroad.com/l/learnbyexample-weekly>learnbyexample weekly</a> for programming resources, tips, tools, free ebooks and more (free newsletter, delivered every Friday).<hr color=#e6e6e6></div></article></div></main></div><script src=https://learnbyexample.github.io/even.js></script>