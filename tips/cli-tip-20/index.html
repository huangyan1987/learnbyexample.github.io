<!doctype html><html lang=en><head><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1.0,maximum-scale=1" name=viewport><title>CLI tip 20: expand and unexpand</title><link href=https://learnbyexample.github.io/atom.xml rel=alternate title=RSS type=application/atom+xml><script src=https://cdnjs.cloudflare.com/ajax/libs/slideout/1.0.1/slideout.min.js></script><link href=https://learnbyexample.github.io/site.css rel=stylesheet><meta content=learnbyexample property=og:title><meta content=website property=og:type><meta content="Learn Python, Regex, Linux, Scripting, Vim, Ebooks, Self-Publishing and Interesting Tech Nuggets." property=og:description><meta content=https://learnbyexample.github.io property=og:url><meta content=https://learnbyexample.github.io/images/learnbyexample.png property=og:image><meta content=1280 property=og:image:width><meta content=640 property=og:image:height><meta content=summary_large_image property=twitter:card><meta content=@learn_byexample property=twitter:site><link href=https://learnbyexample.github.io/favicon.svg rel=icon><link rel="shortcut icon" href=https://learnbyexample.github.io/favicon.png><body><div class=container><div class=mobile-navbar id=mobile-navbar><div class=mobile-header-logo><a class=logo href=/>learnbyexample</a></div><div class="mobile-navbar-icon icon-out"><span></span><span></span><span></span></div></div><nav class="mobile-menu slideout-menu slideout-menu-left" id=mobile-menu><ul class=mobile-menu-list><li class=mobile-menu-item><a href=https://learnbyexample.github.io/books> Books </a><li class=mobile-menu-item><a href=https://learnbyexample.github.io/mini> Mini </a><li class=mobile-menu-item><a href=https://learnbyexample.github.io/tips> Tips </a><li class=mobile-menu-item><a href=https://learnbyexample.github.io/tags> Tags </a><li class=mobile-menu-item><a href=https://learnbyexample.github.io/about> About </a></ul></nav><header id=header><div class=logo><a href=https://learnbyexample.github.io>learnbyexample</a></div><nav class=menu><ul><li><a href=https://learnbyexample.github.io/books> Books </a><li><a href=https://learnbyexample.github.io/mini> Mini </a><li><a href=https://learnbyexample.github.io/tips> Tips </a><li><a href=https://learnbyexample.github.io/tags> Tags </a><li><a href=https://learnbyexample.github.io/about> About </a></ul></nav></header><main><div class=content id=mobile-panel><article class=post><header class=post__header><h1 class=post__title><a href=https://learnbyexample.github.io/tips/cli-tip-20/>CLI tip 20: expand and unexpand</a></h1><div class=post__meta><span class=post__time>2022-12-14</span></div></header><div class=post-content><p>These two commands will help you convert tabs to spaces and vice versa. Both these commands support options to customize the width of tab stops and which occurrences should be converted.<p>The default expansion aligns at multiples of <code>8</code> columns (calculated in terms of bytes).<pre class=language-ruby data-lang=ruby style=background-color:#f5f5f5;color:#1f1f1f;><code class=language-ruby data-lang=ruby><span style=color:#7f8989;># 'apple' = 5 bytes, \t converts to 3 spaces
</span><span style=color:#7f8989;># 'banana' = 6 bytes, \t converts to 2 spaces
</span><span style=color:#7f8989;># 'a' and 'b' = 1 byte, \t converts to 7 spaces
</span><span>$ </span><span style=color:#b39f04;>printf </span><span style=color:#d07711;>'apple\tbanana\tcherry\na\tb\tc\n' </span><span style=color:#72ab00;>|</span><span> expand
</span><span>apple   banana  cherry
</span><span>a       b       c
</span><span>
</span><span style=color:#7f8989;># 'Œ±ŒªŒµ' = 6 bytes, \t converts to 2 spaces
</span><span>$ </span><span style=color:#b39f04;>printf </span><span style=color:#d07711;>'Œ±ŒªŒµ\tœÄŒøœç\n' </span><span style=color:#72ab00;>|</span><span> expand
</span><span>Œ±ŒªŒµ  œÄŒøœç
</span></code></pre><p>By default, the <code>unexpand</code> command converts initial blank (space or tab) characters to tabs. The first occurrence of a non-blank character will stop the conversion. By default, every <code>8</code> columns worth of blanks is converted to a tab.<pre class=language-ruby data-lang=ruby style=background-color:#f5f5f5;color:#1f1f1f;><code class=language-ruby data-lang=ruby><span style=color:#7f8989;># input is 8 spaces followed by 'a' and then more characters
</span><span style=color:#7f8989;># the initial 8 spaces is converted to a tab character
</span><span style=color:#7f8989;># 'a' stops any further conversion, since it is a non-blank character
</span><span>$ </span><span style=color:#b39f04;>printf </span><span style=color:#d07711;>'        a       b       c\n' </span><span style=color:#72ab00;>|</span><span> unexpand </span><span style=color:#72ab00;>|</span><span> cat </span><span style=color:#72ab00;>-</span><span style=color:#5597d6;>T
</span><span style=color:#72ab00;>^</span><span style=color:#5597d6;>Ia</span><span>       b       c
</span><span>
</span><span style=color:#7f8989;># input is 9 spaces followed by 'a' and then more characters
</span><span style=color:#7f8989;># the initial 8 spaces is converted to a tab character
</span><span style=color:#7f8989;># remaining space is left as is
</span><span>$ </span><span style=color:#b39f04;>printf </span><span style=color:#d07711;>'         a       b       c\n' </span><span style=color:#72ab00;>|</span><span> unexpand </span><span style=color:#72ab00;>|</span><span> cat </span><span style=color:#72ab00;>-</span><span style=color:#5597d6;>T
</span><span style=color:#72ab00;>^</span><span style=color:#5597d6;>I</span><span> a       b       c
</span></code></pre><p><strong>Video demo</strong>:<p align=center><iframe allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" title="YouTube video player" allowfullscreen frameborder=0 height=315 loading=lazy src=https://www.youtube.com/embed/tsJCtE6oZDs width=560></iframe></p><br><p><img alt=info src=/images/info.svg> See <a href=https://learnbyexample.github.io/cli_text_processing_coreutils/expand-unexpand.html>expand and unexpand</a> chapter my <a href=https://github.com/learnbyexample/cli_text_processing_coreutils>Command line text processing with GNU Coreutils</a> ebook for more examples, options, etc.</div><div class=post-footer><div class=post-tags><a href=https://learnbyexample.github.io/tags/linux/>#linux</a><a href=https://learnbyexample.github.io/tags/command-line/>#command-line</a><a href=https://learnbyexample.github.io/tags/tip/>#tip</a></div><hr color=#e6e6e6><div class=post-nav><p><a class=next href=https://learnbyexample.github.io/tips/cli-tip-19/>CLI tip 19: extended globs ‚Üí</a><br></div><hr color=#e6e6e6><p>üì∞ Use <a href=https://learnbyexample.github.io/atom.xml>this link</a> for the Atom feed. <br> ‚úÖ Follow me on <a href=https://twitter.com/learn_byexample>Twitter</a>, <a href=https://github.com/learnbyexample>GitHub</a> and <a href=https://www.youtube.com/c/learnbyexample42>Youtube</a> for interesting tech nuggets. <br> üìß Subscribe to <a href=https://learnbyexample.gumroad.com/l/learnbyexample-weekly>learnbyexample weekly</a> for programming resources, tips, tools, free ebooks and more (free newsletter, delivered every Friday).<hr color=#e6e6e6></div></article></div></main></div><script src=https://learnbyexample.github.io/even.js></script>